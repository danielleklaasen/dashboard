function fnGetReports(){$.get(sUrlReports,function(e){if($.trim(e)){var n=JSON.parse(e);iItemsFromDbLength=n.length;for(var t=0;t<n.length;t++){var o=n[t].id;if(-1!=$.inArray(o,aLoadedReports));else{var i=' <div class="text-report-card card card-1"><div class="h4 card-text">'+n[t].title+'</div><div class="card-buttons"> <img src="dist/images/arrows_circle_check.svg" alt="Accept" class="report-accept"> <img src="dist/images/arrows_circle_remove.svg" alt="Decline" class="report-decline"> </div></div>';if($("#report-container").append(i),iItemsFromDbLength-1===aLoadedReports.length){if(0!=iSavedItemsLenght){var c=iItemsFromDbLength-iSavedItemsLenght,r="reports";1===c&&(r="report"),fnShowNotification(c+" new "+r+" added!",r)}iSavedItemsLenght=iItemsFromDbLength}aLoadedReports.push(o)}}}else;})}function fnShowNotification(e,n){oSound.play();var t=document.title,o="New "+n+" received";changeTitle=setInterval(function(){fnChangeTitle(t,o)},1e3),fnShowDesktopNotification(e)}function fnChangeTitle(e,n){iterations<6?document.title===e?document.title=n:document.title=e:clearInterval(changeTitle),iterations++}function fnShowDesktopNotification(e){"granted"!==Notification.permission?Notification.requestPermission():new Notification(e).onclick=function(){fnOpenReportWdw()}}var fnOpenWdw=function(e){var n=$("."+e);n.addClass("open"),n.fadeIn()};$(document).on("click",".open-report-wdw",function(){fnOpenReportWdw()});var fnOpenReportWdw=function(){fnCloseAllWdws(),fnOpenWdw("report-wdw"),fnSetActiveMenuItem("open-report-wdw"),fnGetReports()};$(document).on("click",".open-archive-wdw",function(){fnOpenArchiveWdw()});var fnOpenArchiveWdw=function(){fnCloseAllWdws(),fnOpenWdw("archive-wdw"),fnSetActiveMenuItem("open-archive-wdw")};$(document).on("click",".menu-item",function(){fnCloseSidebar()}),$(document).on("click",".open-home",function(){fnOpenHomeWdw()});var fnOpenHomeWdw=function(){fnCloseAllWdws(),fnOpenWdw("home-wdw"),fnSetActiveMenuItem("open-home")},fnCloseAllWdws=function(){var e=$(".wdw.open");e.fadeOut(),e.removeClass("open")},fnSetActiveMenuItem=function(e){$(".menu-item").removeClass("active"),$("."+e).addClass("active")};fnOpenHomeWdw(),$(document).on("mouseover","#sidebar",function(){fnOpenSidebar()}),$(document).on("click","#sidebar",function(){fnOpenSidebar()}),$(document).on("touchstart","#sidebar",function(){fnOpenSidebar()}),$(document).on("mouseleave","#sidebar",function(){fnCloseSidebar()});var sidebar=$("#sidebar"),fnOpenSidebar=function(){sidebar.hasClass("open")||$("#sidebar").addClass("open")},fnCloseSidebar=function(){sidebar.hasClass("open")&&$("#sidebar").removeClass("open")};$(document).on("click",".close-search",function(){fnCloseSearch()}),$(document).on("click",".open-search",function(){fnOpenSearch()});var fnCloseSearch=function(){$(".search-wdw").fadeOut()},fnOpenSearch=function(){$(".search-wdw").css("display","flex").hide().fadeIn(),$("#search-input").focus()},aLoadedReports=[],sUrlReports="api/reports/api-get-reports.php",iItemsFromDbLength=0,iSavedItemsLenght=aLoadedReports.length;setInterval(function(){fnGetReports()},2e3),$(document).on("click",".report-accept",function(){fnAcceptReport()});var fnAcceptReport=function(){swal("Approved!","Report accepted.","success")};$(document).on("click",".report-decline",function(){fnDeclineReport()});var fnDeclineReport=function(){swal("Declined","Report declined.","error")};$(document).on("click",".report-delete",function(){fnDeleteReport()});var fnDeleteReport=function(){swal("Deleted!","Report deleted.","success")};document.addEventListener("DOMContentLoaded",function(){Notification?"granted"!==Notification.permission&&Notification.requestPermission():console.log("Desktop notifications aren't available in your browser.")});var oSound=new Audio("audio/notification.mp3"),changeTitle,iterations=0;